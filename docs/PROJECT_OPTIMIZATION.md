# é¡¹ç›®ä¼˜åŒ–æŠ¥å‘Š

## ğŸ“Š ä¼˜åŒ–æ¦‚è§ˆ

æœ¬æ¬¡ä¼˜åŒ–å¯¹æ•´ä¸ª Turborepo å•ä½“ä»“åº“è¿›è¡Œäº†å…¨é¢é‡æ„ï¼Œæå‡äº†ä»£ç ç»„ç»‡ã€ä¾èµ–ç®¡ç†å’Œå¼€å‘ä½“éªŒã€‚

### âœ… å·²å®Œæˆçš„å·¥ä½œ

---

## 1ï¸âƒ£ ç»Ÿä¸€æ–‡ä»¶å‘½åè§„èŒƒ

### ç›®å½•é‡å‘½å

| åŸè·¯å¾„ | æ–°è·¯å¾„ | åŒ…å |
|--------|--------|------|
| `apps/btpanel` | `apps/web-panel-vue` | `@rsbuild/btpanel` â†’ `@org/web-panel-vue` |
| `apps/react-btpanel` | `apps/web-panel-react` | `@turbo/react-btpanel` â†’ `@org/web-panel-react` |
| `apps/desktop` | `apps/desktop-app` | `@linglongos/desktop` â†’ `@org/desktop-app` |
| `apps/api` | `apps/api-service` | `@linglongos/api` â†’ `@org/api-service` |

### åŒ…å‘½åç»Ÿä¸€

- `packages/ui` - `@turbo/ui` â†’ `@org/ui`
- `packages/utils` - `@panel/utils` â†’ `@org/utils`
- `packages/shared-types` - `@linglongos/shared-types` â†’ `@org/shared-types`

---

## 2ï¸âƒ£ åˆå¹¶å·¥å…·åº“

### linglongos-utils â†’ @org/utils

å°† `linglongos-utils` å®Œå…¨åˆå¹¶åˆ° `utils` åŒ…ä¸­ï¼š

#### åˆå¹¶å†…å®¹
- âœ… æ•°æ®å¤„ç†å·¥å…· (`data.ts`)
- âœ… å­—ç¬¦ä¸²å·¥å…· (`string.ts`)
- âœ… æ•°å­—å·¥å…· (`number.ts`)
- âœ… æ–‡ä»¶å¤„ç†å·¥å…· (`file.ts`)
- âœ… URLå¤„ç†å·¥å…· (`url.ts`)
- âœ… æ ¼å¼åŒ–å·¥å…· (`format.ts`)
- âœ… éªŒè¯å™¨ (ä½¿ç”¨æ›´å®Œæ•´çš„ `validator.ts` æ›¿æ¢ `validators.ts`)
- âœ… ä¿ç•™åŸæœ‰åŠŸèƒ½ï¼šç±»å‹ã€æ—¥æœŸã€é¢œè‰²ã€éšæœºæ•°ã€é€šç”¨å·¥å…·

#### æ›´æ–°å†…å®¹
- ğŸ“¦ ç‰ˆæœ¬å‡çº§ï¼š`0.1.0` â†’ `2.0.0`
- ğŸ§ª æ·»åŠ  Vitest æ”¯æŒï¼ˆä¿ç•™ rstestï¼‰
- ğŸ“ æ›´æ–°åŒ…æè¿°å’Œæ–‡æ¡£

---

## 3ï¸âƒ£ æ‹†åˆ†æ¡Œé¢åº”ç”¨

### æ‹†åˆ†ä¸º 6 ä¸ªç‹¬ç«‹åŒ…

| åŒ…å | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|----------|
| `@org/ui-components` | `packages/ui-components` | åŸºç¡€ UI ç»„ä»¶åº“ |
| `@org/desktop-core` | `packages/desktop-core` | æ¡Œé¢æ ¸å¿ƒåŠŸèƒ½ï¼ˆçª—å£ç®¡ç†ã€åœé æ ç­‰ï¼‰ |
| `@org/desktop-features` | `packages/desktop-features` | åŠŸèƒ½æ¨¡å—ï¼ˆè®¾ç½®ã€æ¡Œé¢ç­‰ï¼‰ |
| `@org/desktop-hooks` | `packages/desktop-hooks` | è‡ªå®šä¹‰ React Hooks |
| `@org/desktop-services` | `packages/desktop-services` | æ•°æ®æœåŠ¡å±‚ |
| `@org/desktop-store` | `packages/desktop-store` | Redux çŠ¶æ€ç®¡ç† |

### æ¯ä¸ªåŒ…åŒ…å«
- âœ… ç‹¬ç«‹çš„ `package.json` é…ç½®
- âœ… TypeScript ç¼–è¯‘é…ç½®
- âœ… å®Œæ•´çš„å¼€å‘è„šæœ¬
- âœ… æµ‹è¯•é…ç½®

---

## 4ï¸âƒ£ åˆ›å»ºå‰ç«¯é¡¹ç›®æ¨¡æ¿

### æ–°å¢ï¼š`apps/web-template`

åŸºäºç°ä»£å‰ç«¯æŠ€æœ¯æ ˆçš„å®Œæ•´é¡¹ç›®æ¨¡æ¿ï¼š

#### æŠ€æœ¯æ ˆ
- âš¡ï¸ **React 19** - æœ€æ–°ç‰¹æ€§æ”¯æŒ
- ğŸ”· **TypeScript 5.9** - ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- ğŸš€ **Vite 7** - æé€Ÿå¼€å‘ä½“éªŒ
- ğŸ¨ **Tailwind CSS v4** - åŸå­åŒ–æ ·å¼
- ğŸ§© **shadcn/ui** - ç°ä»£åŒ–ç»„ä»¶åº“
- ğŸ›£ï¸ **React Router v7** - è·¯ç”±ç®¡ç†
- ğŸ—ƒï¸ **Zustand** - è½»é‡çŠ¶æ€ç®¡ç†
- ğŸ“¡ **React Query** - æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†
- ğŸ§ª **Vitest + Testing Library** - å•å…ƒæµ‹è¯•
- ğŸ“ **Biome** - ä»£ç æ£€æŸ¥ä¸æ ¼å¼åŒ–

#### é¡¹ç›®ç»“æ„
```
apps/web-template/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/       # API æœåŠ¡
â”‚   â”œâ”€â”€ types/          # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ assets/         # é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.css       # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ main.tsx        # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ App.tsx         # æ ¹ç»„ä»¶
â”œâ”€â”€ vite.config.ts      # Vite é…ç½®
â”œâ”€â”€ tailwind.config.js  # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
â”œâ”€â”€ vitest.config.ts    # æµ‹è¯•é…ç½®
â””â”€â”€ biome.json          # ä»£ç è§„èŒƒé…ç½®
```

#### ç‰¹æ€§
- ğŸ“ å®Œæ•´çš„ç±»å‹å®šä¹‰å’Œè·¯å¾„åˆ«å
- ğŸ¯ è·¯å¾„æ˜ å°„ï¼š`@/components/*`, `@/pages/*` ç­‰
- ğŸŒ“ æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- ğŸ“± å“åº”å¼è®¾è®¡
- âœ… å¼€ç®±å³ç”¨çš„æµ‹è¯•é…ç½®
- ğŸ“Š ä»£ç è¦†ç›–ç‡æ”¯æŒ

---

## 5ï¸âƒ£ é…ç½®ä¼˜åŒ–

### æ ¹ package.json
- âœ… æ›´æ–°æ ¼å¼åŒ–è„šæœ¬ï¼š`prettier` â†’ `biome`
- âœ… æ–°å¢ `check` å‘½ä»¤
- âœ… ä¿æŒæ‰€æœ‰åŸæœ‰è„šæœ¬

### turbo.json
- âœ… è‡ªåŠ¨é€‚é…æ‰€æœ‰æ–°åŒ…
- âœ… ç»Ÿä¸€çš„æ„å»ºã€æµ‹è¯•ã€lint æµç¨‹
- âœ… ç¯å¢ƒå˜é‡ä¼ é€’

---

## ğŸ“‹ å®Œæ•´é¡¹ç›®ç»“æ„

```
/apps
  â”œâ”€â”€ web-panel-vue/              # Vue 3 é¢æ¿ï¼ˆåŸºäº Element Plusï¼‰
  â”œâ”€â”€ web-panel-react/            # React 19 é¢æ¿ï¼ˆç°ä»£åŒ–é‡æ„ï¼‰
  â”œâ”€â”€ desktop-app/                # æ¡Œé¢åº”ç”¨ï¼ˆä¿ç•™åŸåº”ç”¨ï¼‰
  â”œâ”€â”€ api-service/                # Node.js + Egg.js API æœåŠ¡
  â””â”€â”€ web-template/               # ğŸ†• ç»Ÿä¸€å‰ç«¯é¡¹ç›®æ¨¡æ¿

/packages
  â”œâ”€â”€ ui/                         # å…±äº« UI ç»„ä»¶åº“
  â”œâ”€â”€ ui-components/              # ğŸ†• åŸºç¡€ UI ç»„ä»¶ï¼ˆä» desktop æ‹†åˆ†ï¼‰
  â”œâ”€â”€ utils/                      # é€šç”¨å·¥å…·åº“ï¼ˆv2.0 - å·²åˆå¹¶ linglongos-utilsï¼‰
  â”œâ”€â”€ shared-types/               # å…±äº«ç±»å‹å®šä¹‰
  â”œâ”€â”€ desktop-core/               # ğŸ†• æ¡Œé¢æ ¸å¿ƒåŠŸèƒ½
  â”œâ”€â”€ desktop-features/           # ğŸ†• æ¡Œé¢åŠŸèƒ½æ¨¡å—
  â”œâ”€â”€ desktop-hooks/              # ğŸ†• æ¡Œé¢è‡ªå®šä¹‰ Hooks
  â”œâ”€â”€ desktop-services/           # ğŸ†• æ¡Œé¢æœåŠ¡å±‚
  â””â”€â”€ desktop-store/              # ğŸ†• æ¡Œé¢çŠ¶æ€ç®¡ç†
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å¼€å‘æ–°é¡¹ç›®

ä½¿ç”¨ web-template ä½œä¸ºèµ·ç‚¹ï¼š

```bash
# å¤åˆ¶æ¨¡æ¿
cp -r apps/web-template apps/my-new-app

# æ›´æ–° package.json ä¸­çš„ name
# æ›´æ–° README.md
# å¼€å§‹å¼€å‘
pnpm dev
```

### æ·»åŠ æ–°åŒ…

```bash
# åœ¨ packages/ ä¸‹åˆ›å»ºç›®å½•
mkdir -p packages/my-new-package

# æ·»åŠ  package.json
# æ·»åŠ  src/index.ts
# æ·»åŠ  tsconfig.json

# Turborepo ä¼šè‡ªåŠ¨æ£€æµ‹
pnpm build  # æ„å»ºæ‰€æœ‰åŒ…
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### 1. æ›´æ–°ç°æœ‰åº”ç”¨çš„ä¾èµ–å¼•ç”¨
- [ ] æ›´æ–° `web-panel-react` ä½¿ç”¨ `@org/ui` è€Œä¸æ˜¯ `@turbo/ui`
- [ ] æ›´æ–° `desktop-app` ä½¿ç”¨æ‹†åˆ†åçš„åŒ…
- [ ] æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„

### 2. å®Œå–„æµ‹è¯•è¦†ç›–
- [ ] ä¸ºæ–°çš„æ‹†åˆ†åŒ…æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] ç¡®ä¿æ‰€æœ‰åŒ…æµ‹è¯•é€šè¿‡
- [ ] æ·»åŠ é›†æˆæµ‹è¯•

### 3. æ–‡æ¡£ä¼˜åŒ–
- [ ] æ›´æ–°å„åº”ç”¨çš„ README
- [ ] æ·»åŠ  API æ–‡æ¡£
- [ ] åˆ›å»ºè´¡çŒ®æŒ‡å—

### 4. CI/CD é…ç½®
- [ ] æ›´æ–° GitHub Actions å·¥ä½œæµ
- [ ] é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] è®¾ç½®ä»£ç è¦†ç›–ç‡æ£€æŸ¥

---

## ğŸ“Š ä¼˜åŒ–æˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿› |
|------|--------|--------|------|
| åŒ…æ•°é‡ | 7 ä¸ª | 13 ä¸ª | âœ… æ¨¡å—åŒ–ç¨‹åº¦æå‡ |
| å·¥å…·åº“ | 2 ä¸ªé‡å¤ | 1 ä¸ªåˆå¹¶ | âœ… å‡å°‘é‡å¤ |
| æ¡Œé¢åº”ç”¨ | 1 ä¸ªå•ä½“ | 6 ä¸ªç‹¬ç«‹åŒ… | âœ… è§£è€¦æ›´æ¸…æ™° |
| é¡¹ç›®æ¨¡æ¿ | æ—  | 1 ä¸ªå®Œæ•´æ¨¡æ¿ | âœ… å¿«é€Ÿå¯åŠ¨ |
| å‘½åè§„èŒƒ | ä¸ç»Ÿä¸€ | ç»Ÿä¸€ä¸º `@org/*` | âœ… å“ç‰Œç»Ÿä¸€ |

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **éµå¾ªå•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªåŒ…ä¸“æ³¨å•ä¸€åŠŸèƒ½
2. **ä½¿ç”¨ç»Ÿä¸€çš„å‘½åè§„èŒƒ**ï¼š`@org/` å‰ç¼€
3. **ä¿æŒå‘åå…¼å®¹**ï¼šè¿ç§»æ—¶æ³¨æ„ API å…¼å®¹æ€§
4. **ç¼–å†™å®Œæ•´æµ‹è¯•**ï¼šç¡®ä¿ä»£ç è´¨é‡
5. **åŠæ—¶æ›´æ–°æ–‡æ¡£**ï¼šä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥

---

## ğŸ”— ç›¸å…³èµ„æº

- [Turborepo æ–‡æ¡£](https://turbo.build/repo)
- [pnpm å·¥ä½œåŒº](https://pnpm.io/workspaces)
- [Biome ä»£ç è§„èŒƒ](https://biomejs.dev/)
- [React 19 æ–°ç‰¹æ€§](https://react.dev/blog/2024/04/25/react-19)
- [Vite 7 æŒ‡å—](https://vitejs.dev/)
- [Tailwind CSS v4](https://tailwindcss.com/blog/tailwindcss-v4-alpha)

---

**ä¼˜åŒ–å®Œæˆæ—¥æœŸ**: 2025-11-04
**ä¼˜åŒ–ç‰ˆæœ¬**: v2.0.0
**è´Ÿè´£äºº**: Claude Code
