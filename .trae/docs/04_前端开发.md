# 玲珑OS前端开发

## 1. 前端宿主 (Host)

### 1.1 概述
前端宿主是玲珑OS的“底座”，它负责渲染整个桌面环境，并承载所有的窗口和应用。它是一个React单页应用（SPA）。

### 1.2 主要组件
- **`App.tsx`**: 应用根组件，负责整合所有Provider和主要UI组件。
- **`Desktop`**: 桌面组件，负责渲染壁纸和桌面图标。
- **`Taskbar`**: 任务栏组件，显示已打开的应用和系统托盘。
- **`WindowManager`**: 窗口管理器，负责渲染和管理所有应用窗口。
- **`ContextMenu`**: 全局右键菜单提供者。

### 1.3 状态管理
前端宿主使用Zustand进行全局状态管理，主要包括：
- **`useWindowStore`**: 管理所有窗口的状态。
- **`usePluginStore`**: 管理所有插件的加载状态和`manifest`信息。
- **`useThemeStore`**: 管理系统主题（暗黑/明亮模式）。

## 2. 桌面系统

### 2.1 功能
- 显示桌面背景。
- 渲染桌面图标（来自已安装的应用）。
- 支持桌面右键菜单。

### 2.2 实现
- 使用CSS Grid布局来排列桌面图标。
- 图标数据来源于`usePluginStore`。
- 右键菜单通过`ContextMenu`组件实现。

## 3. 设置中心

### 3.1 功能
- **个性化**：更换壁纸、主题等。
- **应用管理**：查看、安装、卸载插件。
- **系统设置**：网络、声音、显示等（未来规划）。

### 3.2 实现
设置中心本身将作为一个核心插件来实现，以便于独立开发和维护。

## 4. 文件管理器

### 4.1 功能
- 浏览本地文件系统（通过后端API代理）。
- 文件和文件夹的增删改查。
- 文件上传和下载。

### 4.2 实现
文件管理器也将作为一个核心插件来实现。它将与后端的文件服务API进行交互。

## 5. 上下文菜单 (Context Menu)

### 5.1 功能
提供全局的、可定制的右键菜单功能。

### 5.2 实现
- 使用`@radix-ui/react-context-menu`库来构建。
- 创建一个`ContextMenuProvider`，通过事件来动态设置和显示菜单项。
- 不同的组件（如桌面、文件图标）可以触发不同的上下文菜单。

---

## 6. 文档元数据

- **文档类型**: 前端开发文档
- **关键词**: 前端, 宿主, 桌面系统, 设置中心, 文件管理器, 状态管理, Zustand, ContextMenu
- **目标读者**: 前端开发者
- **核心内容**: 本文档介绍了玲珑OS前端部分的核心概念和主要模块实现，包括前端宿主、桌面、设置中心等，是前端开发的入门指南。
- **AI解析优化**:
  - 清晰的模块划分（桌面、设置中心等）。
  - 对状态管理方案（Zustand）和核心组件有明确说明。
  - 提供了组件和功能的实现思路。