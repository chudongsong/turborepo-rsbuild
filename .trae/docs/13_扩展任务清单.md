# ç²ç‘OSæ‰©å±•ä»»åŠ¡æ¸…å•

## æ–‡æ¡£è¯´æ˜

æœ¬æ¸…å•åŸºäºé¡¹ç›®åˆ†ææŠ¥å‘Šï¼ˆ`12_é¡¹ç›®åˆ†ææŠ¥å‘Š.md`ï¼‰ï¼Œå°†æ‰©å±•è®¡åˆ’æ‹†åˆ†ä¸º **28ä¸ªå…·ä½“å¯æ‰§è¡Œä»»åŠ¡**ï¼ŒæŒ‰é˜¶æ®µå’Œä¼˜å…ˆçº§ç»„ç»‡ï¼Œç¡®ä¿é¡¹ç›®å¯å¹³ç¨³å‡çº§ä¸ºå®Œæ•´çš„ Web æ¡Œé¢æ“ä½œç³»ç»Ÿã€‚

**æ€»é¢„è®¡æ—¶é—´ï¼š8-11å‘¨**
**å…³é”®è·¯å¾„ï¼šAPIæ‰©å±• â†’ æ’ä»¶ç³»ç»Ÿ â†’ æ¡Œé¢ç¯å¢ƒ â†’ æ ¸å¿ƒåº”ç”¨**

---

## é˜¶æ®µä¸€ï¼šåŸºç¡€éªŒè¯ä¸APIæ‰©å±•ï¼ˆ1-2å‘¨ï¼‰

### ä»»åŠ¡1: éªŒè¯ç°æœ‰ä»£ç åŸºç¡€
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š0.5å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] API Service å¯åŠ¨æ­£å¸¸ï¼Œæ‰€æœ‰æ¥å£å¯è®¿é—®
- [ ] desktop-app å¯æ­£å¸¸å¯åŠ¨å’Œè¿è¡Œ
- [ ] æ‰€æœ‰å…±äº«åŒ…ç¼–è¯‘é€šè¿‡
- [ ] æµ‹è¯•ç”¨ä¾‹è¿è¡ŒæˆåŠŸï¼ˆ19/19ï¼‰

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/
apps/desktop-app/
packages/{ui,hooks,utils,shared-types}/
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§ï¼ˆ>=20.18.1ï¼‰
- éªŒè¯ pnpm å·¥ä½œåŒºé…ç½®
- ç¡®è®¤ TypeScript ç¼–è¯‘æ— é”™è¯¯

---

### ä»»åŠ¡2: æ‰©å±• API Service - æ·»åŠ æ’ä»¶æ³¨å†Œä¸­å¿ƒ
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ–°å¢æ’ä»¶ç®¡ç†è·¯ç”±ï¼ˆ/api/v1/plugins/*ï¼‰
- [ ] å®ç°æ’ä»¶åˆ—è¡¨æŸ¥è¯¢æ¥å£
- [ ] å®ç°æ’ä»¶è¯¦æƒ…æŸ¥è¯¢æ¥å£
- [ ] å®ç°æ’ä»¶å‘å¸ƒæ¥å£ï¼ˆç®¡ç†å‘˜ï¼‰
- [ ] æ•°æ®åº“æ¨¡å‹å®šä¹‰ï¼ˆpluginsã€plugin_versions è¡¨ï¼‰
- [ ] Swagger æ–‡æ¡£æ›´æ–°

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/controller/plugins.ts          [æ–°å»º]
apps/api-service/app/service/plugins.ts             [æ–°å»º]
apps/api-service/app/lib/database.ts                [æ‰©å±•]
apps/api-service/app/router.ts                      [æ›´æ–°]
```

**æ•°æ®åº“æ¨¡å‹**ï¼š
```sql
CREATE TABLE plugins (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(255) NOT NULL UNIQUE,
  description TEXT,
  author VARCHAR(255),
  repository_url VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE plugin_versions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  plugin_id INTEGER NOT NULL,
  version VARCHAR(255) NOT NULL,
  manifest TEXT NOT NULL,
  package_url VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (plugin_id) REFERENCES plugins(id)
);
```

**API ç«¯ç‚¹**ï¼š
```
GET    /api/v1/plugins                    - æ’ä»¶åˆ—è¡¨
GET    /api/v1/plugins/:name              - æ’ä»¶è¯¦æƒ…
POST   /api/v1/plugins                    - å‘å¸ƒæ’ä»¶ï¼ˆç®¡ç†å‘˜ï¼‰
GET    /api/v1/plugins/:name/:version     - æ’ä»¶ç‰ˆæœ¬è¯¦æƒ…
```

---

### ä»»åŠ¡3: æ‰©å±• API Service - æ·»åŠ æ–‡ä»¶æœåŠ¡ API
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ–°å¢æ–‡ä»¶ç®¡ç†è·¯ç”±ï¼ˆ/api/v1/files/*ï¼‰
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ æ¥å£
- [ ] å®ç°æ–‡ä»¶åˆ—è¡¨æ¥å£
- [ ] å®ç°æ–‡ä»¶ä¸‹è½½æ¥å£
- [ ] å®ç°æ–‡ä»¶åˆ é™¤æ¥å£
- [ ] å®‰å…¨çš„è·¯å¾„éªŒè¯ï¼ˆé˜²æ­¢ç›®å½•éå†ï¼‰
- [ ] Swagger æ–‡æ¡£æ›´æ–°

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/controller/files.ts            [æ–°å»º]
apps/api-service/app/service/files.ts               [æ–°å»º]
apps/api-service/config/config.default.ts           [æ›´æ–°]
```

**API ç«¯ç‚¹**ï¼š
```
POST   /api/v1/files/upload              - ä¸Šä¼ æ–‡ä»¶
GET    /api/v1/files/list                - æ–‡ä»¶åˆ—è¡¨
GET    /api/v1/files/download            - ä¸‹è½½æ–‡ä»¶
DELETE /api/v1/files                     - åˆ é™¤æ–‡ä»¶
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- ä½¿ç”¨ egg çš„ multipart æ’ä»¶
- é™åˆ¶æ–‡ä»¶å¤§å°å’Œç±»å‹
- ç”Ÿæˆå”¯ä¸€æ–‡ä»¶åé¿å…å†²çª
- è¿”å›æ–‡ä»¶ URL å’Œå…ƒæ•°æ®

---

### ä»»åŠ¡4: æ‰©å±• API Service - é›†æˆ Redis ç¼“å­˜
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®‰è£…å’Œé…ç½® Redis å®¢æˆ·ç«¯
- [ ] å®ç°ç¼“å­˜ä¸­é—´ä»¶
- [ ] å¯¹çƒ­ç‚¹æ•°æ®ï¼ˆæ’ä»¶åˆ—è¡¨ï¼‰è¿›è¡Œç¼“å­˜
- [ ] è®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´
- [ ] ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼ˆæ‰‹åŠ¨+è‡ªåŠ¨ï¼‰

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/middleware/cache.ts            [æ–°å»º]
apps/api-service/app/service/cache.ts               [æ–°å»º]
apps/api-service/config/plugin.ts                   [æ›´æ–°]
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- ä½¿ç”¨ ioredis æˆ– node-redis
- ç¼“å­˜é”®å‘½åè§„èŒƒ
- ç¼“å­˜ç©¿é€é˜²æŠ¤
- ç¼“å­˜é›ªå´©é˜²æŠ¤

---

### ä»»åŠ¡5: æ‰©å±• API Service - å®ç° JWT è®¤è¯
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®‰è£… jsonwebtoken ä¾èµ–
- [ ] å®ç° JWT ç”Ÿæˆå’ŒéªŒè¯
- [ ] æ”¯æŒ accessToken + refreshToken
- [ ] å…¼å®¹ç°æœ‰ Cookie ä¼šè¯
- [ ] å®ç° Token åˆ·æ–°æ¥å£
- [ ] å®‰å…¨çš„å¯†é’¥ç®¡ç†

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/service/jwt.ts                 [æ–°å»º]
apps/api-service/app/middleware/jwt.ts              [æ–°å»º]
apps/api-service/app/controller/auth.ts             [æ›´æ–°]
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- accessToken æœ‰æ•ˆæœŸï¼š2å°æ—¶
- refreshToken æœ‰æ•ˆæœŸï¼š7å¤©
- ä½¿ç”¨å¼ºéšæœºå¯†é’¥
- ä»¤ç‰Œæ’¤é”€æœºåˆ¶

---

## é˜¶æ®µäºŒï¼šæ’ä»¶ç³»ç»Ÿå¼€å‘ï¼ˆ2-3å‘¨ï¼‰

### ä»»åŠ¡6: åˆ›å»º packages/sdk åŒ…
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] åˆ›å»º packages/sdk ç›®å½•ç»“æ„
- [ ] é…ç½® package.json å’Œ tsconfig.json
- [ ] å®ç° SDK æ ¸å¿ƒæ¶æ„
- [ ] ç¯å¢ƒæ£€æµ‹ï¼ˆé›†æˆ vs æ²™ç®±ï¼‰
- [ ] åŸºç¡€çš„ postMessage é€šä¿¡
- [ ] SDK æ–‡æ¡£å’Œç¤ºä¾‹

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
packages/sdk/
  src/
    index.ts                          [ä¸»å…¥å£]
    core/
      api.ts                          [API æ³¨å†Œè¡¨]
      environment.ts                  [ç¯å¢ƒæ£€æµ‹]
      communicator.ts                 [é€šä¿¡å°è£…]
    modules/
      window.ts                       [çª—å£ API]
      desktop.ts                      [æ¡Œé¢ API]
      events.ts                       [äº‹ä»¶ API]
      notifications.ts                [é€šçŸ¥ API]
  package.json
  tsconfig.json
  README.md
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// åŸºç¡€æ¶æ„
class LinglongSDK {
  private environment: 'integrated' | 'sandboxed';
  private communicator: Communicator;

  // API æ³¨å†Œ
  registerAPI(name: string, api: any): void

  // ç¯å¢ƒæ£€æµ‹
  detectEnvironment(): 'integrated' | 'sandboxed'
}
```

---

### ä»»åŠ¡7: å¼€å‘ SDK æ ¸å¿ƒ API
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®ç° linglong.window API
- [ ] å®ç° linglong.desktop API
- [ ] å®ç° linglong.events API
- [ ] å®ç° linglong.notifications API
- [ ] å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- [ ] æ¯ä¸ª API éƒ½æœ‰ç¤ºä¾‹ä»£ç 
- [ ] æ”¯æŒ Promise å¼‚æ­¥

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
packages/sdk/src/modules/
  window.ts                               [çª—å£ç®¡ç†]
  desktop.ts                              [æ¡Œé¢äº¤äº’]
  events.ts                               [äº‹ä»¶ç³»ç»Ÿ]
  notifications.ts                        [ç³»ç»Ÿé€šçŸ¥]
```

**API è®¾è®¡**ï¼š
```typescript
// window API
linglong.window.create({
  title: string,
  width: number,
  height: number,
  url: string
}): Promise<WindowHandle>

linglong.window.close(id: string): Promise<void>
linglong.window.minimize(id: string): Promise<void>
linglong.window.maximize(id: string): Promise<void>

// desktop API
linglong.desktop.addShortcut(shortcut: ShortcutInfo): Promise<void>
linglong.desktop.getShortcuts(): Promise<ShortcutInfo[]>
linglong.desktop.setWallpaper(url: string): Promise<void>

// events API
linglong.events.emit(event: string, data: any): Promise<void>
linglong.events.on(event: string, handler: Function): void
linglong.events.off(event: string, handler: Function): void

// notifications API
linglong.notifications.send(title: string, options?: NotificationOptions): Promise<void>
```

---

### ä»»åŠ¡8: åˆ›å»º packages/plugin-loader åŒ…
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] åˆ›å»º packages/plugin-loader ç›®å½•
- [ ] å®ç° PluginLoader ç±»
- [ ] æ’ä»¶å‘ç°å’ŒåŠ è½½æœºåˆ¶
- [ ] æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- [ ] æ’ä»¶çŠ¶æ€ç›‘æ§

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
packages/plugin-loader/
  src/
    PluginLoader.ts                      [ä¸»åŠ è½½å™¨]
    PluginManager.ts                     [æ’ä»¶ç®¡ç†]
    types.ts                             [ç±»å‹å®šä¹‰]
    constants.ts                         [å¸¸é‡å®šä¹‰]
  package.json
  tsconfig.json
  README.md
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
class PluginLoader {
  // åŠ è½½æ’ä»¶
  async loadPlugin(manifest: PluginManifest): Promise<PluginInstance>

  // å¸è½½æ’ä»¶
  async unloadPlugin(pluginId: string): Promise<void>

  // å¯ç”¨/ç¦ç”¨æ’ä»¶
  async enablePlugin(pluginId: string): Promise<void>
  async disablePlugin(pluginId: string): Promise<void>

  // è·å–æ’ä»¶åˆ—è¡¨
  getPlugins(): PluginInstance[]

  // äº‹ä»¶ç›‘å¬
  on(event: PluginEvent, handler: Function): void
}
```

---

### ä»»åŠ¡9: å®ç°æ’ä»¶æ¸…å•ï¼ˆmanifest.jsonï¼‰æ ‡å‡†
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š1å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®šä¹‰ manifest.json Schema
- [ ] å®ç° manifest éªŒè¯å™¨
- [ ] TypeScript ç±»å‹å®šä¹‰
- [ ] æ–‡æ¡£å’Œç¤ºä¾‹
- [ ] å‘åå…¼å®¹æ€§

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
packages/plugin-loader/src/
  types.ts                               [åŒ…å« Manifest ç±»å‹]
  validator.ts                           [æ¸…å•éªŒè¯å™¨]
```

**manifest.json Schema**ï¼š
```json
{
  "$schema": "https://linglongos.com/schema/plugin-manifest/v1.json",
  "name": "string (required, unique)",
  "version": "string (semver, required)",
  "title": "string (required)",
  "description": "string",
  "author": "string (required)",
  "icon": "string (URL or path)",
  "runtime": "integrated | sandboxed (required)",
  "entry": {
    "main": "string (required)"
  },
  "permissions": [
    "window.create",
    "window.close",
    "notifications.send",
    "..."
  ],
  "dependencies": {
    "@linglongos/sdk": "^1.0.0"
  },
  "engines": {
    "linglongos": "^1.0.0"
  }
}
```

---

### ä»»åŠ¡10: å®ç°æ’ä»¶åŠ è½½å™¨ï¼ˆé›†æˆè¿è¡Œæ—¶ï¼‰
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®ç°åŠ¨æ€ import åŠ è½½
- [ ] React ç»„ä»¶æŒ‚è½½
- [ ] çŠ¶æ€å…±äº«æœºåˆ¶
- [ ] é”™è¯¯è¾¹ç•Œå¤„ç†
- [ ] å†…å­˜æ³„æ¼é˜²æŠ¤
- [ ] æ€§èƒ½ç›‘æ§

**æŠ€æœ¯è¦ç‚¹**ï¼š
```typescript
// é›†æˆè¿è¡Œæ—¶åŠ è½½
async function loadIntegratedPlugin(manifest: PluginManifest) {
  // 1. åŠ¨æ€å¯¼å…¥
  const module = await import(manifest.entry.main)

  // 2. éªŒè¯å¯¼å‡º
  if (typeof module.default !== 'function') {
    throw new Error('Plugin must export default React component')
  }

  // 3. æ³¨å…¥ SDK
  const PluginComponent = module.default
  const pluginAPI = createPluginAPI(manifest)

  // 4. æ¸²æŸ“
  return <PluginComponent {...pluginAPI} />
}
```

---

### ä»»åŠ¡11: å®ç°æ’ä»¶åŠ è½½å™¨ï¼ˆæ²™ç®±è¿è¡Œæ—¶ï¼‰
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] iframe åˆ›å»ºå’Œç®¡ç†
- [ ] postMessage åŒå‘é€šä¿¡
- [ ] æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–
- [ ] å®‰å…¨ç­–ç•¥é…ç½®
- [ ] é€šä¿¡åè®®å®šä¹‰
- [ ] æ€§èƒ½ä¼˜åŒ–

**æŠ€æœ¯è¦ç‚¹**ï¼š
```typescript
// æ²™ç®±è¿è¡Œæ—¶åŠ è½½
async function loadSandboxedPlugin(manifest: PluginManifest) {
  // 1. åˆ›å»º iframe
  const iframe = document.createElement('iframe')
  iframe.src = manifest.entry.main
  iframe.sandbox.add('allow-scripts') // ä¸¥æ ¼é™åˆ¶

  // 2. å»ºç«‹é€šä¿¡
  const communicator = new PostMessageCommunicator(iframe.contentWindow)

  // 3. æ³¨å…¥ SDK
  await communicator.call('initialize', {
    manifest,
    api: createSandboxAPI(manifest)
  })

  return iframe
}
```

**å®‰å…¨ç­–ç•¥**ï¼š
- ä¸¥æ ¼ sandbox å±æ€§
- ç™½åå•æ¶ˆæ¯ç±»å‹
- æ¶ˆæ¯æ¥æºéªŒè¯
- API è°ƒç”¨æƒé™æ£€æŸ¥

---

## é˜¶æ®µä¸‰ï¼šæ¡Œé¢ç¯å¢ƒå¢å¼ºï¼ˆ2-3å‘¨ï¼‰

### ä»»åŠ¡12: å¢å¼º desktop-app - å®ç°çª—å£ç®¡ç†å™¨
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š4-5å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] çª—å£åˆ›å»º/é”€æ¯/å±‚çº§ç®¡ç†
- [ ] çª—å£çŠ¶æ€ï¼ˆæœ€å¤§/æœ€å°åŒ–/è¿˜åŸï¼‰
- [ ] çª—å£æ‹–æ‹½
- [ ] çª—å£ç¼©æ”¾
- [ ] çª—å£ç½®é¡¶
- [ ] å¤šä¸ªçª—å£ç®¡ç†
- [ ] çª—å£é—´é€šä¿¡

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/desktop-app/src/
  components/WindowManager/                [æ–°å»ºç›®å½•]
    WindowManager.tsx
    Window.tsx
    WindowControls.tsx
    WindowResizeHandle.tsx
  store/windows.ts                         [æ–°å»º]
  types/window.ts                          [æ–°å»º]
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// çª—å£çŠ¶æ€ç®¡ç†
interface WindowState {
  id: string
  title: string
  component: React.ComponentType
  x: number
  y: number
  width: number
  height: number
  zIndex: number
  minimized: boolean
  maximized: boolean
  resizable: boolean
  closable: boolean
}

// çª—å£æ“ä½œ
createWindow(options: WindowOptions): string
closeWindow(id: string): void
minimizeWindow(id: string): void
maximizeWindow(id: string): void
focusWindow(id: string): void
updateWindowPosition(id: string, x: number, y: number): void
updateWindowSize(id: string, width: number, height: number): void
```

---

### ä»»åŠ¡13: å¢å¼º desktop-app - å®ç°ä»»åŠ¡æ ç»„ä»¶
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ä»»åŠ¡æ å¸ƒå±€
- [ ] è¿è¡Œä¸­çš„åº”ç”¨åˆ—è¡¨
- [ ] åº”ç”¨åˆ‡æ¢
- [ ] æœ€å°åŒ–/è¿˜åŸåº”ç”¨
- [ ] ç³»ç»Ÿæ‰˜ç›˜
- [ ] å¼€å§‹èœå•
- [ ] é€šçŸ¥åŒºåŸŸ

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/desktop-app/src/
  components/Taskbar/                      [æ–°å»ºç›®å½•]
    Taskbar.tsx
    AppButton.tsx
    SystemTray.tsx
    StartMenu.tsx
  store/taskbar.ts                         [æ–°å»º]
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// ä»»åŠ¡æ çŠ¶æ€
interface TaskbarState {
  apps: RunningApp[]
  startMenuOpen: boolean
  activeAppId: string | null
  notifications: Notification[]
}

// åº”ç”¨ç®¡ç†
switchToApp(id: string): void
minimizeApp(id: string): void
closeApp(id: string): void
toggleStartMenu(): void
```

---

### ä»»åŠ¡14: å¢å¼º desktop-app - å®ç°æ¡Œé¢ç¯å¢ƒ
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ¡Œé¢èƒŒæ™¯
- [ ] æ¡Œé¢å›¾æ ‡å¸ƒå±€
- [ ] æ¡Œé¢å³é”®èœå•
- [ ] å¿«æ·æ–¹å¼ç®¡ç†
- [ ] å£çº¸è®¾ç½®
- [ ] å›¾æ ‡æ‹–æ‹½æ’åº
- [ ] æ–‡ä»¶å¤¹æ”¯æŒ

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/desktop-app/src/
  components/Desktop/                      [æ–°å»ºç›®å½•]
    Desktop.tsx
    DesktopIcon.tsx
    DesktopContextMenu.tsx
  store/desktop.ts                         [æ–°å»º]
  types/desktop.ts                         [æ–°å»º]
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// æ¡Œé¢çŠ¶æ€
interface DesktopState {
  wallpaper: string
  icons: DesktopIcon[]
  contextMenu: ContextMenuItem[]
  selectedIcons: string[]
}

// å›¾æ ‡ç®¡ç†
addShortcut(shortcut: ShortcutInfo): void
removeShortcut(id: string): void
updateShortcut(id: string, updates: Partial<ShortcutInfo>): void
selectIcons(ids: string[]): void
```

---

## é˜¶æ®µå››ï¼šæ ¸å¿ƒåº”ç”¨å¼€å‘ï¼ˆ3-4å‘¨ï¼‰

### ä»»åŠ¡15: å¼€å‘æ ¸å¿ƒåº”ç”¨ - æ–‡ä»¶ç®¡ç†å™¨
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š5-6å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ–‡ä»¶æµè§ˆç•Œé¢
- [ ] æ–‡ä»¶/æ–‡ä»¶å¤¹ CRUD
- [ ] æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½
- [ ] æ–‡ä»¶æœç´¢
- [ ] é¢åŒ…å±‘å¯¼èˆª
- [ ] è§†å›¾åˆ‡æ¢ï¼ˆåˆ—è¡¨/ç½‘æ ¼ï¼‰
- [ ] å³é”®èœå•
- [ ] é›†æˆåç«¯æ–‡ä»¶æœåŠ¡ API

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/desktop-app/src/apps/
  FileManager/                             [æ–°å»ºç›®å½•]
    components/
      FileManager.tsx
      FileList.tsx
      FileItem.tsx
      Breadcrumb.tsx
      Toolbar.tsx
    hooks/
      useFileManager.ts
    store/
      fileManager.ts
    types/
      file.ts
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// æ–‡ä»¶ç®¡ç†
listFiles(path: string): Promise<FileInfo[]>
uploadFile(file: File, path: string): Promise<void>
downloadFile(id: string): Promise<Blob>
createFolder(name: string, path: string): Promise<void>
deleteFile(id: string): Promise<void>
moveFile(id: string, newPath: string): Promise<void>
searchFiles(query: string): Promise<FileInfo[]>
```

**UI ç»„ä»¶**ï¼š
- æ–‡ä»¶/æ–‡ä»¶å¤¹å›¾æ ‡
- æ‹–æ‹½ä¸Šä¼ 
- å¤šé€‰æ“ä½œ
- è¿›åº¦æŒ‡ç¤ºå™¨

---

### ä»»åŠ¡16: å¼€å‘æ ¸å¿ƒåº”ç”¨ - è®¾ç½®ä¸­å¿ƒ
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š4-5å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ä¸ªæ€§åŒ–è®¾ç½®ï¼ˆå£çº¸ã€ä¸»é¢˜ï¼‰
- [ ] æ’ä»¶ç®¡ç†ï¼ˆå®‰è£…/å¸è½½/å¯ç”¨/ç¦ç”¨ï¼‰
- [ ] ç³»ç»Ÿè®¾ç½®ï¼ˆç½‘ç»œã€å£°éŸ³ã€æ˜¾ç¤ºï¼‰
- [ ] è´¦æˆ·ä¸å®‰å…¨
- [ ] å…³äºé¡µé¢
- [ ] è®¾ç½®æŒä¹…åŒ–

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/desktop-app/src/apps/
  Settings/                                [æ–°å»ºç›®å½•]
    components/
      Settings.tsx
      Personalization.tsx
      PluginManager.tsx
      SystemSettings.tsx
      Security.tsx
    store/
      settings.ts
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```typescript
// ä¸ªæ€§åŒ–
setWallpaper(url: string): void
setTheme(theme: 'light' | 'dark' | 'auto'): void
setAccentColor(color: string): void

// æ’ä»¶ç®¡ç†
installPlugin(packageUrl: string): Promise<void>
uninstallPlugin(id: string): Promise<void>
enablePlugin(id: string): Promise<void>
disablePlugin(id: string): Promise<void>
getInstalledPlugins(): PluginInstance[]

// ç³»ç»Ÿè®¾ç½®
updateNetworkSettings(settings: NetworkSettings): void
updateAudioSettings(settings: AudioSettings): void
updateDisplaySettings(settings: DisplaySettings): void
```

---

## é˜¶æ®µäº”ï¼šå®‰å…¨ä¸æƒé™ï¼ˆ2-3å‘¨ï¼‰

### ä»»åŠ¡17: å®ç° RBAC æƒé™ç³»ç»Ÿ
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è§’è‰²å®šä¹‰ï¼ˆadminã€developerã€userï¼‰
- [ ] æƒé™å®šä¹‰ï¼ˆplugin:installã€user:manage ç­‰ï¼‰
- [ ] è§’è‰²-æƒé™ç»‘å®š
- [ ] ç”¨æˆ·-è§’è‰²åˆ†é…
- [ ] æƒé™æ£€æŸ¥ä¸­é—´ä»¶
- [ ] æƒé™ç»§æ‰¿
- [ ] æƒé™ç®¡ç†ç•Œé¢

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/
  service/rbac.ts                          [æ–°å»º]
  middleware/rbac.ts                       [æ–°å»º]
  controller/rbac.ts                       [æ–°å»º]
```

**æ•°æ®åº“æ¨¡å‹**ï¼š
```sql
CREATE TABLE roles (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(50) NOT NULL UNIQUE,
  description TEXT
);

CREATE TABLE permissions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(50) NOT NULL UNIQUE,
  resource VARCHAR(50) NOT NULL,
  action VARCHAR(50) NOT NULL
);

CREATE TABLE role_permissions (
  role_id INTEGER NOT NULL,
  permission_id INTEGER NOT NULL,
  PRIMARY KEY (role_id, permission_id),
  FOREIGN KEY (role_id) REFERENCES roles(id),
  FOREIGN KEY (permission_id) REFERENCES permissions(id)
);

CREATE TABLE user_roles (
  user_id INTEGER NOT NULL,
  role_id INTEGER NOT NULL,
  PRIMARY KEY (user_id, role_id)
);
```

**API ç«¯ç‚¹**ï¼š
```
GET    /api/v1/rbac/roles                   - è§’è‰²åˆ—è¡¨
POST   /api/v1/rbac/roles                   - åˆ›å»ºè§’è‰²
PUT    /api/v1/rbac/roles/:id               - æ›´æ–°è§’è‰²
DELETE /api/v1/rbac/roles/:id               - åˆ é™¤è§’è‰²

GET    /api/v1/rbac/permissions             - æƒé™åˆ—è¡¨
POST   /api/v1/rbac/permissions             - åˆ›å»ºæƒé™

POST   /api/v1/rbac/users/:id/roles         - åˆ†é…è§’è‰²
DELETE /api/v1/rbac/users/:id/roles/:roleId - ç§»é™¤è§’è‰²
```

---

### ä»»åŠ¡18: å®ç°æ’ä»¶æƒé™æœºåˆ¶
**ä¼˜å…ˆçº§**ï¼šğŸ”´ æœ€é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æƒé™å£°æ˜ï¼ˆmanifest.jsonï¼‰
- [ ] ç”¨æˆ·æˆæƒæµç¨‹
- [ ] æƒé™æ£€æŸ¥ï¼ˆSDK + åç«¯ï¼‰
- [ ] æƒé™æç¤ºç•Œé¢
- [ ] æƒé™æ’¤é”€
- [ ] æƒé™å˜æ›´æ—¥å¿—

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/
  service/permission.ts                     [æ–°å»º]
  middleware/plugin-permission.ts           [æ–°å»º]

packages/sdk/src/
  guards/permission.ts                      [æ–°å»º]
```

**æƒé™ç±»å‹**ï¼š
```typescript
type PluginPermission =
  | 'window.create'
  | 'window.close'
  | 'window.read'
  | 'desktop.addShortcut'
  | 'desktop.readShortcuts'
  | 'notifications.send'
  | 'file.read'
  | 'file.write'
  | 'network.request'
```

**ç”¨æˆ·æˆæƒæµç¨‹**ï¼š
1. æ’ä»¶å®‰è£…æ—¶å±•ç¤ºæƒé™åˆ—è¡¨
2. ç”¨æˆ·ç¡®è®¤æˆæƒ
3. ä¿å­˜æˆæƒè®°å½•
4. è¿è¡Œæ—¶æƒé™æ£€æŸ¥
5. æœªæˆæƒæ—¶æç¤ºç”¨æˆ·

---

### ä»»åŠ¡19: å®ç°å®‰å…¨æ²™ç®±
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] iframe å®‰å…¨ç­–ç•¥
- [ ] CSP é…ç½®
- [ ] èµ„æºåŠ è½½é™åˆ¶
- [ ] API è°ƒç”¨é™åˆ¶
- [ ] é€šä¿¡åè®®å®‰å…¨
- [ ] æ²™ç®±é€ƒé€¸é˜²æŠ¤
- [ ] æ€§èƒ½ç›‘æ§

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
packages/plugin-loader/src/
  sandbox/
    SecurityPolicy.ts                       [æ–°å»º]
    CSPManager.ts                           [æ–°å»º]
    ResourceGuard.ts                        [æ–°å»º]
    CommunicationGuard.ts                   [æ–°å»º]
```

**å®‰å…¨é…ç½®**ï¼š
```typescript
const sandboxConfig = {
  // iframe sandbox å±æ€§
  sandbox: [
    'allow-scripts',     // å…è®¸æ‰§è¡Œè„šæœ¬
    'allow-forms',       // å…è®¸è¡¨å•
    'allow-same-origin'  // å…è®¸åŒæºï¼ˆå¯é€‰ï¼‰
  ].join(' '),

  // CSP ç­–ç•¥
  csp: {
    'default-src': ["'self'"],
    'script-src': ["'self'"],
    'style-src': ["'self'", "'unsafe-inline'"],
    'img-src': ["'self'", "data:", "https:"],
    'connect-src': ["'self'"], // é™åˆ¶ç½‘ç»œè¯·æ±‚
  },

  // èµ„æºåŠ è½½ç™½åå•
  allowedResources: {
    scripts: ['/sdk/'],
    styles: ['/themes/'],
    images: ['/assets/']
  }
}
```

**API è°ƒç”¨é™åˆ¶**ï¼š
```typescript
// SDK å†…éƒ¨æƒé™æ£€æŸ¥
async function callAPI(permission: string, ...args: any[]) {
  if (!hasPermission(permission)) {
    throw new Error(`Permission denied: ${permission}`)
  }
  // ... æ‰§è¡Œ API
}
```

---

### ä»»åŠ¡20: å®ç°å®‰å…¨å®¡è®¡æ—¥å¿—
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å®¡è®¡äº‹ä»¶å®šä¹‰
- [ ] æ—¥å¿—è®°å½•æœºåˆ¶
- [ ] æ—¥å¿—å­˜å‚¨
- [ ] æ—¥å¿—æŸ¥è¯¢æ¥å£
- [ ] æ—¥å¿—åˆ†æå·¥å…·
- [ ] å®‰å…¨å‘Šè­¦

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
apps/api-service/app/
  service/audit.ts                          [æ–°å»º]
  middleware/audit.ts                       [æ–°å»º]
  controller/audit.ts                       [æ–°å»º]
```

**å®¡è®¡äº‹ä»¶**ï¼š
```typescript
type AuditEvent =
  | 'user.login'
  | 'user.logout'
  | 'plugin.install'
  | 'plugin.uninstall'
  | 'plugin.permission.grant'
  | 'plugin.permission.revoke'
  | 'file.upload'
  | 'file.delete'
  | 'security.violation'
```

**æ•°æ®åº“æ¨¡å‹**ï¼š
```sql
CREATE TABLE audit_logs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  timestamp INTEGER NOT NULL,
  user_id INTEGER,
  event VARCHAR(50) NOT NULL,
  resource VARCHAR(100),
  details TEXT,
  ip_address VARCHAR(45),
  user_agent TEXT
);
```

---

## é˜¶æ®µå…­ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆ2å‘¨ï¼‰

### ä»»åŠ¡21: æ€§èƒ½ä¼˜åŒ– - ä»£ç åˆ†å‰²
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ é«˜
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è·¯ç”±çº§åˆ«ä»£ç åˆ†å‰²
- [ ] æ’ä»¶å»¶è¿ŸåŠ è½½
- [ ] ç»„ä»¶æ‡’åŠ è½½
- [ ] åŠ¨æ€ import ä¼˜åŒ–
- [ ] é¢„åŠ è½½å…³é”®èµ„æº
- [ ] Bundle åˆ†æ

**æŠ€æœ¯è¦ç‚¹**ï¼š
```typescript
// è·¯ç”±çº§åˆ«åˆ†å‰²
const FileManager = lazy(() => import('../apps/FileManager'))
const Settings = lazy(() => import('../apps/Settings'))

// æ’ä»¶å»¶è¿ŸåŠ è½½
const loadPlugin = async (manifest: PluginManifest) => {
  if (manifest.runtime === 'sandboxed') {
    return import('./sandboxed-loader')
  } else {
    return import('./integrated-loader')
  }
}
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- é¦–å±åŠ è½½æ—¶é—´ < 2s
- è·¯ç”±åˆ‡æ¢ < 300ms
- æ’ä»¶åŠ è½½ < 500ms

---

### ä»»åŠ¡22: æ€§èƒ½ä¼˜åŒ– - è™šæ‹ŸåŒ–åˆ—è¡¨
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ–‡ä»¶åˆ—è¡¨è™šæ‹ŸåŒ–
- [ ] æ’ä»¶åˆ—è¡¨è™šæ‹ŸåŒ–
- [ ] çª—å£åˆ—è¡¨è™šæ‹ŸåŒ–
- [ ] æµç•…æ»šåŠ¨
- [ ] å†…å­˜ä¼˜åŒ–

**æŠ€æœ¯è¦ç‚¹**ï¼š
```typescript
import { FixedSizeList as List } from 'react-window'

<FileList
  height={600}
  itemCount={files.length}
  itemSize={50}
>
  {({ index, style }) => (
    <div style={style}>
      <FileItem file={files[index]} />
    </div>
  )}
</FileList>
```

---

### ä»»åŠ¡23: æ€§èƒ½ä¼˜åŒ– - ç¼“å­˜ç­–ç•¥
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æµè§ˆå™¨ç¼“å­˜é…ç½®
- [ ] Service Worker ç¼“å­˜
- [ ] API å“åº”ç¼“å­˜
- [ ] çŠ¶æ€ç¼“å­˜ï¼ˆZustandï¼‰
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] ç¼“å­˜å¤±æ•ˆç­–ç•¥

**æŠ€æœ¯è¦ç‚¹**ï¼š
```typescript
// Service Worker
self.addEventListener('fetch', (event) => {
  if (event.request.url.includes('/api/v1/plugins')) {
    event.respondWith(
      caches.open('plugins-v1').then(cache => {
        return cache.match(event.request) || fetch(event.request)
      })
    )
  }
})

// Zustand æŒä¹…åŒ–
const useStore = create(
  persist(
    (set) => ({ /* state */ }),
    { name: 'linglongos-store' }
  )
)
```

---

## é˜¶æ®µä¸ƒï¼šç”Ÿæ€å»ºè®¾ï¼ˆ2å‘¨ï¼‰

### ä»»åŠ¡24: åˆ›å»ºå®˜æ–¹ç¤ºä¾‹æ’ä»¶
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] 2-3 ä¸ªç¤ºä¾‹æ’ä»¶
- [ ] é›†æˆè¿è¡Œæ—¶ç¤ºä¾‹
- [ ] æ²™ç®±è¿è¡Œæ—¶ç¤ºä¾‹
- [ ] å®Œæ•´æ–‡æ¡£
- [ ] å¯ç›´æ¥è¿è¡Œ

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
examples/
  integrated-hello-world/                   [æ–°å»º]
  sandboxed-clock/                          [æ–°å»º]
  integrated-notes/                         [æ–°å»º]
```

**ç¤ºä¾‹æ’ä»¶**ï¼š
1. **Hello World** - åŸºç¡€æ’ä»¶
2. **æ—¶é’Ÿ** - æ²™ç®±è¿è¡Œæ—¶
3. **è®°äº‹æœ¬** - é›†æˆè¿è¡Œæ—¶ï¼Œæ–‡ä»¶æ“ä½œ

---

### ä»»åŠ¡25: ç¼–å†™æ’ä»¶å¼€å‘æ–‡æ¡£
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­
**é¢„ä¼°æ—¶é—´**ï¼š3å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ’ä»¶å¼€å‘æŒ‡å—
- [ ] SDK API æ–‡æ¡£
- [ ] manifest.json è§„èŒƒ
- [ ] è°ƒè¯•æŒ‡å—
- [ ] å‘å¸ƒæµç¨‹
- [ ] å¸¸è§é—®é¢˜

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
docs/
  plugin-development/                       [æ–°å»ºç›®å½•]
    getting-started.md
    sdk-api.md
    manifest-schema.md
    debugging.md
    publishing.md
    faq.md
```

**å†…å®¹å¤§çº²**ï¼š
1. å¿«é€Ÿå¼€å§‹
2. åˆ›å»ºç¬¬ä¸€ä¸ªæ’ä»¶
3. SDK è¯¦ç»†è¯´æ˜
4. æƒé™ç³»ç»Ÿ
5. è°ƒè¯•æŠ€å·§
6. å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº

---

## é˜¶æ®µå…«ï¼šéƒ¨ç½²ä¸è¿ç»´ï¼ˆ1å‘¨ï¼‰

### ä»»åŠ¡26: å»ºç«‹ CI/CD æµç¨‹
**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] GitHub Actions é…ç½®
- [ ] è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] è‡ªåŠ¨åŒ–æ„å»º
- [ ] è‡ªåŠ¨åŒ–éƒ¨ç½²
- [ ] ä»£ç è´¨é‡æ£€æŸ¥

**æ¶‰åŠæ–‡ä»¶**ï¼š
```
.github/
  workflows/
    ci.yml                                  [æ–°å»º]
    cd.yml                                  [æ–°å»º]
```

**CI æµç¨‹**ï¼š
1. æ£€å‡ºä»£ç 
2. å®‰è£…ä¾èµ–
3. è¿è¡Œæµ‹è¯•
4. ä»£ç æ£€æŸ¥ï¼ˆBiomeï¼‰
5. æ„å»ºé¡¹ç›®
6. ä¸Šä¼ åˆ¶å“

---

### ä»»åŠ¡27: æ·»åŠ ç›‘æ§ä¸å‘Šè­¦
**ä¼˜å…ˆçº§**ï¼šğŸŸ¢ ä½
**é¢„ä¼°æ—¶é—´**ï¼š2å¤©
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ€§èƒ½ç›‘æ§
- [ ] é”™è¯¯è¿½è¸ª
- [ ] ç”¨æˆ·è¡Œä¸ºåˆ†æ
- [ ] èµ„æºä½¿ç”¨ç›‘æ§
- [ ] å‘Šè­¦è§„åˆ™

**æŠ€æœ¯æ ˆ**ï¼š
- Sentryï¼šé”™è¯¯è¿½è¸ª
- è‡ªå®šä¹‰åŸ‹ç‚¹ï¼šæ€§èƒ½ç›‘æ§
- Grafanaï¼šæ•°æ®å¯è§†åŒ–

---

## ä»»åŠ¡ä¾èµ–å…³ç³»

### å…³é”®è·¯å¾„
```
éªŒè¯ä»£ç  â†’ APIæ‰©å±• â†’ æ’ä»¶ç³»ç»Ÿ â†’ æ¡Œé¢ç¯å¢ƒ â†’ æ ¸å¿ƒåº”ç”¨ â†’ å®‰å…¨ç³»ç»Ÿ
```

### å¹¶è¡Œä»»åŠ¡
- ä»»åŠ¡ 6-11ï¼šå¯å¹¶è¡Œå¼€å‘
- ä»»åŠ¡ 12-14ï¼šéœ€æŒ‰é¡ºåºï¼ˆä¾èµ–çª—å£ç®¡ç†å™¨ï¼‰
- ä»»åŠ¡ 15-16ï¼šå¯å¹¶è¡Œ
- ä»»åŠ¡ 17-20ï¼šéœ€æŒ‰é¡ºåºï¼ˆä¾èµ–æƒé™ç³»ç»Ÿï¼‰
- ä»»åŠ¡ 21-23ï¼šå¯å¹¶è¡Œ
- ä»»åŠ¡ 24-25ï¼šå¯å¹¶è¡Œ

---

## èµ„æºä¼°ç®—

### äººå‘˜é…ç½®
- **å‰ç«¯å·¥ç¨‹å¸ˆ**ï¼š2-3 äººï¼ˆè´Ÿè´£ desktop-appã€æ’ä»¶ç³»ç»Ÿï¼‰
- **åç«¯å·¥ç¨‹å¸ˆ**ï¼š1-2 äººï¼ˆè´Ÿè´£ API Service æ‰©å±•ï¼‰
- **å…¨æ ˆå·¥ç¨‹å¸ˆ**ï¼š1 äººï¼ˆè´Ÿè´£ SDKã€æ’ä»¶åŠ è½½å™¨ï¼‰

### å·¥å…·é“¾
- **å¼€å‘**ï¼šVSCode + TypeScript + pnpm
- **æµ‹è¯•**ï¼šJest + Vitest + Playwright
- **æ„å»º**ï¼šRsbuild + Turborepo
- **CI/CD**ï¼šGitHub Actions
- **ç›‘æ§**ï¼šSentry + è‡ªå®šä¹‰åŸ‹ç‚¹

---

## é£é™©ä¸åº”å¯¹

### æŠ€æœ¯é£é™©
1. **æ’ä»¶æ²™ç®±å®‰å…¨æ€§** - ä¸¥æ ¼æµ‹è¯•ï¼Œå‚è€ƒæµè§ˆå™¨å®‰å…¨æ¨¡å‹
2. **æ€§èƒ½é—®é¢˜** - æŒç»­ä¼˜åŒ–ï¼Œä½¿ç”¨å·¥å…·åˆ†æ
3. **æµè§ˆå™¨å…¼å®¹æ€§** - ä½¿ç”¨ polyfillï¼Œæ¸è¿›å¢å¼º

### è¿›åº¦é£é™©
1. **ä»»åŠ¡å¤æ‚åº¦** - ç»†åˆ†ä»»åŠ¡ï¼Œæ¯é˜¶æ®µæœ‰äº¤ä»˜ç‰©
2. **ä¾èµ–å…³ç³»** - æ˜ç¡®å…³é”®è·¯å¾„ï¼Œä¼˜å…ˆå…³é”®ä»»åŠ¡
3. **è´¨é‡ä¿è¯** - ä¿æŒé«˜æµ‹è¯•è¦†ç›–ç‡

---

## æ–‡æ¡£å…ƒæ•°æ®

- **æ–‡æ¡£ç±»å‹**: æ‰©å±•ä»»åŠ¡æ¸…å•
- **åˆ›å»ºæ—¶é—´**: 2025-11-04
- **ä»»åŠ¡æ€»æ•°**: 28 ä¸ª
- **é¢„ä¼°æ€»æ—¶é•¿**: 8-11 å‘¨
- **å…³é”®è·¯å¾„**: APIæ‰©å±• â†’ æ’ä»¶ç³»ç»Ÿ â†’ æ¡Œé¢ç¯å¢ƒ â†’ æ ¸å¿ƒåº”ç”¨
- **å…³é”®è¯**: ä»»åŠ¡æ¸…å•, æ‰©å±•è®¡åˆ’, å¼€å‘è·¯çº¿å›¾, é‡Œç¨‹ç¢‘
- **ç›®æ ‡è¯»è€…**: é¡¹ç›®ç»ç†, æ¶æ„å¸ˆ, å¼€å‘å›¢é˜Ÿ
- **æ ¸å¿ƒå†…å®¹**: 28ä¸ªå¯æ‰§è¡Œä»»åŠ¡çš„è¯¦ç»†æ¸…å•ï¼ŒåŒ…æ‹¬éªŒæ”¶æ ‡å‡†ã€æ¶‰åŠæ–‡ä»¶ã€æŠ€æœ¯è¦ç‚¹
- **AIè§£æä¼˜åŒ–**:
  - æ¯ä¸ªä»»åŠ¡éƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡å’ŒéªŒæ”¶æ ‡å‡†
  - æ ‡æ³¨äº†ä¼˜å…ˆçº§å’Œé¢„ä¼°æ—¶é—´
  - æä¾›äº†å…·ä½“çš„æ–‡ä»¶è·¯å¾„å’ŒæŠ€æœ¯æ–¹æ¡ˆ
  - åŒ…å«äº†ä»»åŠ¡ä¾èµ–å…³ç³»å’Œèµ„æºä¼°ç®—
