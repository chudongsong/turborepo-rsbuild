# Vue é¢æ¿æ–‡æ¡£ä¸­å¿ƒ

æ¬¢è¿æ¥åˆ° Linglong Web Panel Vue æ–‡æ¡£ä¸­å¿ƒï¼è¿™é‡Œæ˜¯æ‚¨äº†è§£ã€å¼€å‘å’Œä½¿ç”¨ Vue 3 ä¼ ç»ŸæœåŠ¡å™¨ç®¡ç†é¢æ¿çš„å®Œæ•´æŒ‡å—ã€‚

## ğŸš€ é¡¹ç›®ç®€ä»‹

Linglong Web Panel Vue æ˜¯åŸºäº Vue 3 + TypeScript + Element Plus æ„å»ºçš„ä¼ ç»ŸæœåŠ¡å™¨ç®¡ç†é¢æ¿ï¼Œæä¾›å®Œæ•´ã€ç¨³å®šçš„ç®¡ç†ç•Œé¢å’Œä¸°å¯Œçš„æœåŠ¡å™¨ç®¡ç†åŠŸèƒ½ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **ğŸ¨ Vue 3 ç°ä»£åŒ–**: åŸºäº Vue 3.5.12 + Composition API
- **ğŸ“± Element Plus UI**: ä¸°å¯Œçš„æ¡Œé¢çº§ UI ç»„ä»¶åº“
- **ğŸ”§ Pinia çŠ¶æ€ç®¡ç†**: ç°ä»£åŒ–çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆ
- **ğŸ›£ï¸ Vue Router 4**: å®Œæ•´çš„è·¯ç”±ç³»ç»Ÿ
- **ğŸ–¥ï¸ ç»ˆç«¯åŠŸèƒ½**: é›†æˆ xterm.js æä¾›å®Œæ•´ç»ˆç«¯ä½“éªŒ
- **ğŸ“Š æ•°æ®å¯è§†åŒ–**: ECharts å›¾è¡¨å±•ç¤ºç³»ç»Ÿèµ„æº
- **ğŸ¯ æ‹–æ‹½æ”¯æŒ**: vue3-dnd æä¾›æµç•…æ‹–æ‹½äº¤äº’
- **âš¡ Rsbuild æ„å»º**: é«˜æ€§èƒ½æ„å»ºå’Œçƒ­æ›´æ–°

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ¯ å¿«é€Ÿå¼€å§‹
- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°) - äº†è§£é¢æ¿æ¶æ„å’ŒæŠ€æœ¯æ ˆ
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—) - æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º
- [æ„å»ºéƒ¨ç½²](#-æ„å»ºéƒ¨ç½²) - ç”Ÿäº§ç¯å¢ƒæ„å»ºå’Œéƒ¨ç½²

### ğŸ“‚ åˆ†ç±»æ–‡æ¡£

#### ğŸ› ï¸ å¼€å‘æ–‡æ¡£
- [01-é¡¹ç›®æ¶æ„è®¾è®¡](å¼€å‘æ–‡æ¡£/01-é¡¹ç›®æ¶æ„è®¾è®¡.md) - Vue 3 æ¶æ„å’Œè®¾è®¡ç†å¿µ
- [02-ç»„ä»¶å¼€å‘è§„èŒƒ](å¼€å‘æ–‡æ¡£/02-ç»„ä»¶å¼€å‘è§„èŒƒ.md) - Vue SFC ç»„ä»¶å¼€å‘æ ‡å‡†
- [03-çŠ¶æ€ç®¡ç†è®¾è®¡](å¼€å‘æ–‡æ¡£/03-çŠ¶æ€ç®¡ç†è®¾è®¡.md) - Pinia çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
- [04-è·¯ç”±ç³»ç»Ÿå®ç°](å¼€å‘æ–‡æ¡£/04-è·¯ç”±ç³»ç»Ÿå®ç°.md) - Vue Router é…ç½®å’Œä½¿ç”¨
- [05-ç»ˆç«¯åŠŸèƒ½å®ç°](å¼€å‘æ–‡æ¡£/05-ç»ˆç«¯åŠŸèƒ½å®ç°.md) - ç»ˆç«¯é›†æˆå’Œ WebSocket é€šä¿¡

#### ğŸ”— APIæ–‡æ¡£
- [01-é¢æ¿ç»„ä»¶API](APIæ–‡æ¡£/01-é¢æ¿ç»„ä»¶API.md) - é¢æ¿ç›¸å…³ç»„ä»¶æ¥å£è¯´æ˜
- [02-æœåŠ¡æ¥å£API](APIæ–‡æ¡£/02-æœåŠ¡æ¥å£API.md) - API é€šä¿¡å’ŒçŠ¶æ€ç®¡ç†æ¥å£
- [03-ç»ˆç«¯API](APIæ–‡æ¡£/03-ç»ˆç«¯API.md) - ç»ˆç«¯åŠŸèƒ½å’Œ WebSocket API

#### ğŸ”¨ æ„å»ºæ–‡æ¡£
- [01-æ„å»ºé…ç½®è¯´æ˜](æ„å»ºæ–‡æ¡£/01-æ„å»ºé…ç½®è¯´æ˜.md) - Rsbuild + Gulp æ„å»ºé…ç½®
- [02-å¼€å‘ç¯å¢ƒé…ç½®](æ„å»ºæ–‡æ¡£/02-å¼€å‘ç¯å¢ƒé…ç½®.md) - Vue å¼€å‘ç¯å¢ƒæ­å»º
- [03-Gitéƒ¨ç½²é…ç½®](æ„å»ºæ–‡æ¡£/03-Gitéƒ¨ç½²é…ç½®.md) - Git é›†æˆéƒ¨ç½²æ–¹æ¡ˆ
- [04-Dockeréƒ¨ç½²é…ç½®](æ„å»ºæ–‡æ¡£/04-Dockeréƒ¨ç½²é…ç½®.md) - å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ

#### ğŸ“‹ ä»»åŠ¡æ–‡æ¡£
- [01-åŠŸèƒ½å¼€å‘è®¡åˆ’](ä»»åŠ¡æ–‡æ¡£/01-åŠŸèƒ½å¼€å‘è®¡åˆ’.md) - é¢æ¿åŠŸèƒ½å¼€å‘è·¯çº¿å›¾
- [02-æ€§èƒ½ä¼˜åŒ–è®°å½•](ä»»åŠ¡æ–‡æ¡£/02-æ€§èƒ½ä¼˜åŒ–è®°å½•.md) - æ€§èƒ½ä¼˜åŒ–å®è·µè®°å½•

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
apps/web-panel-vue/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ components/         # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ forms/          # è¡¨å•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ tables/         # è¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â””â”€â”€ charts/         # å›¾è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue   # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ Terminal.vue    # ç»ˆç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Files.vue       # æ–‡ä»¶ç®¡ç†
â”‚   â”‚   â””â”€â”€ Settings.vue    # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ user.ts         # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ system.ts       # ç³»ç»ŸçŠ¶æ€
â”‚   â”‚   â””â”€â”€ terminal.ts     # ç»ˆç«¯çŠ¶æ€
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ api.ts          # API è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ websocket.ts    # WebSocket è¿æ¥
â”‚   â”‚   â””â”€â”€ helpers.ts      # è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts        # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ main.ts             # åº”ç”¨å…¥å£
â”œâ”€â”€ pages/                  # é™æ€é¡µé¢
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â””â”€â”€ package.json            # åŒ…é…ç½®
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶å’Œåº“
- **Vue**: 3.5.12 - æ¸è¿›å¼å‰ç«¯æ¡†æ¶
- **TypeScript**: ^5.7.3 - ç±»å‹å®‰å…¨å¼€å‘
- **Element Plus**: 2.8.4 - Vue 3 UI ç»„ä»¶åº“
- **Vue Router**: 4.4.5 - å®˜æ–¹è·¯ç”±ç®¡ç†

### çŠ¶æ€ç®¡ç†å’Œæ•°æ®
- **Pinia**: ^2.3.1 - Vue å®˜æ–¹çŠ¶æ€ç®¡ç†
- **VueUse**: ^11.1.0 - Composition å·¥å…·åº“
- **Axios**: ^1.7.7 - HTTP å®¢æˆ·ç«¯

### å·¥å…·å’Œé›†æˆ
- **@xterm/xterm**: ^5.5.0 - Web ç»ˆç«¯æ¨¡æ‹Ÿå™¨
- **ECharts**: ^5.5.1 - æ•°æ®å¯è§†åŒ–
- **vue3-dnd**: ^2.1.0 - Vue æ‹–æ‹½ç³»ç»Ÿ
- **SortableJS**: ^1.15.3 - åˆ—è¡¨æ‹–æ‹½æ’åº
- **Ace Diff**: ^3.0.3 - ä»£ç å¯¹æ¯”å·¥å…·

### æ„å»ºå’Œå¼€å‘
- **Rsbuild**: ^1.4.0 - é«˜æ€§èƒ½æ„å»ºå·¥å…·
- **Gulp**: ^5.0.0 - ä»»åŠ¡è‡ªåŠ¨åŒ–
- **UnoCSS**: ^0.60.2 - åŸå­åŒ– CSS
- **Biome**: ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- pnpm >= 8.15.6

### å®‰è£…ä¾èµ–
```bash
pnpm install
```

### å¼€å‘å‘½ä»¤
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# æ„å»º Git éƒ¨ç½²ç‰ˆæœ¬
pnpm build:git

# æ„å»º Docker é•œåƒç‰ˆæœ¬
pnpm build:docker

# ä»£ç æ£€æŸ¥
pnpm lint

# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
pnpm lint:fix

# ä»£ç æ ¼å¼åŒ–
pnpm format

# è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
pnpm format:fix

# è¿è¡Œæµ‹è¯•
pnpm test

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm coverage

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview

# ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨
pnpm upload

# ä¸Šä¼ åˆ° Git ä»“åº“
pnpm upload:git
```

### ç¯å¢ƒå˜é‡
```bash
# å¼€å‘ç¯å¢ƒé…ç½®
VITE_API_BASE_URL=http://localhost:4000
VITE_WS_BASE_URL=ws://localhost:4000
VITE_APP_TITLE=Linglong Panel
VITE_DEBUG=true

# ç”Ÿäº§ç¯å¢ƒé…ç½®
VITE_API_BASE_URL=https://api.example.com
VITE_WS_BASE_URL=wss://api.example.com
VITE_APP_TITLE=Linglong Panel - Production
VITE_DEBUG=false
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ä»ªè¡¨æ¿
- **ç³»ç»Ÿæ¦‚è§ˆ**: CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œçŠ¶æ€
- **å®æ—¶ç›‘æ§**: èµ„æºä½¿ç”¨ç‡çš„å®æ—¶å›¾è¡¨
- **æœåŠ¡çŠ¶æ€**: å…³é”®æœåŠ¡çš„è¿è¡ŒçŠ¶æ€
- **å‘Šè­¦ä¿¡æ¯**: ç³»ç»Ÿå‘Šè­¦å’Œé€šçŸ¥

### 2. ç»ˆç«¯åŠŸèƒ½
- **Web ç»ˆç«¯**: åŸºäº xterm.js çš„å…¨åŠŸèƒ½ç»ˆç«¯
- **å¤šæ ‡ç­¾ç®¡ç†**: å¤šä¸ªç»ˆç«¯ä¼šè¯ç®¡ç†
- **å†å²è®°å½•**: å‘½ä»¤å†å²å’Œè¾“å‡ºè®°å½•
- **æ–‡ä»¶ä¸Šä¼ **: é€šè¿‡ç»ˆç«¯ä¸Šä¼ ä¸‹è½½æ–‡ä»¶

### 3. æ–‡ä»¶ç®¡ç†
- **æ–‡ä»¶æµè§ˆ**: æ ‘å½¢æ–‡ä»¶ç›®å½•æµè§ˆ
- **æ–‡ä»¶æ“ä½œ**: æ–°å»ºã€åˆ é™¤ã€é‡å‘½åã€å¤åˆ¶ã€ç§»åŠ¨
- **æƒé™ç®¡ç†**: æ–‡ä»¶æƒé™è®¾ç½®å’Œç®¡ç†
- **åœ¨çº¿ç¼–è¾‘**: å†…ç½®æ–‡ä»¶ç¼–è¾‘å™¨

### 4. è½¯ä»¶ç®¡ç†
- **åŒ…ç®¡ç†**: ç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†
- **åº”ç”¨å•†åº—**: å¯ç”¨è½¯ä»¶åˆ—è¡¨å’Œå®‰è£…
- **æœåŠ¡ç®¡ç†**: ç³»ç»ŸæœåŠ¡çš„å¯åœç®¡ç†
- **æ›´æ–°ç®¡ç†**: è½¯ä»¶å’Œç³»ç»Ÿæ›´æ–°

### 5. ç³»ç»Ÿç›‘æ§
- **æ€§èƒ½ç›‘æ§**: ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ç›‘æ§
- **è¿›ç¨‹ç®¡ç†**: è¿›ç¨‹æŸ¥çœ‹å’Œæ“ä½œ
- **æ—¥å¿—æŸ¥çœ‹**: ç³»ç»Ÿå’Œåº”ç”¨æ—¥å¿—
- **ç½‘ç»œç›‘æ§**: ç½‘ç»œè¿æ¥çŠ¶æ€

### 6. è®¾ç½®ç®¡ç†
- **ç”¨æˆ·è®¾ç½®**: ä¸ªäººåå¥½è®¾ç½®
- **ç³»ç»Ÿè®¾ç½®**: ç³»ç»Ÿçº§åˆ«é…ç½®
- **å®‰å…¨è®¾ç½®**: å®‰å…¨ç›¸å…³é…ç½®
- **ä¸»é¢˜è®¾ç½®**: ç•Œé¢ä¸»é¢˜å’Œæ ·å¼

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ„å»ºæ€§èƒ½
- **é¦–æ¬¡æ„å»ºæ—¶é—´**: < 25ç§’
- **å¢é‡æ„å»º**: < 5ç§’
- **å¼€å‘çƒ­æ›´æ–°**: < 1ç§’

### è¿è¡Œæ—¶æ€§èƒ½
- **é¦–å±åŠ è½½æ—¶é—´**: < 2.5ç§’
- **é¡µé¢åˆ‡æ¢æ—¶é—´**: < 300ms
- **å†…å­˜å ç”¨**: < 100MBï¼ˆç©ºé—²çŠ¶æ€ï¼‰

### æµè§ˆå™¨å…¼å®¹æ€§
- **Chrome**: 88+
- **Firefox**: 85+
- **Safari**: 14+
- **Edge**: 88+

## ğŸ”§ å¼€å‘æŒ‡å—

### ç»„ä»¶å¼€å‘è§„èŒƒ
```vue
<template>
  <div class="server-card">
    <el-card class="server-card__content">
      <template #header>
        <div class="server-card__header">
          <h3>{{ server.name }}</h3>
          <el-tag :type="getStatusType(server.status)">
            {{ getStatusText(server.status) }}
          </el-tag>
        </div>
      </template>
      
      <div class="server-card__body">
        <el-descriptions :column="2" size="small">
          <el-descriptions-item label="CPU">{{ server.cpu }}%</el-descriptions-item>
          <el-descriptions-item label="å†…å­˜">{{ server.memory }}%</el-descriptions-item>
          <el-descriptions-item label="ç£ç›˜">{{ server.disk }}%</el-descriptions-item>
          <el-descriptions-item label="ç½‘ç»œ">{{ server.network }}%</el-descriptions-item>
        </el-descriptions>
      </div>
      
      <template #footer>
        <el-button-group>
          <el-button size="small" @click="handleConnect">
            è¿æ¥
          </el-button>
          <el-button size="small" @click="handleMonitor">
            ç›‘æ§
          </el-button>
        </el-button-group>
      </template>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { ElCard, ElTag, ElButton, ElButtonGroup, ElDescriptions, ElDescriptionsItem } from 'element-plus'

interface Server {
  id: string
  name: string
  status: 'online' | 'offline' | 'error'
  cpu: number
  memory: number
  disk: number
  network: number
}

interface Props {
  server: Server
}

interface Emits {
  connect: [server: Server]
  monitor: [server: Server]
}

const props = defineProps<Props>()
const emit = defineEmits<Emits>()

const statusType = computed(() => {
  const statusMap = {
    online: 'success',
    offline: 'info',
    error: 'danger'
  } as const
  return statusMap[props.server.status] || 'info'
})

const statusText = computed(() => {
  const textMap = {
    online: 'åœ¨çº¿',
    offline: 'ç¦»çº¿',
    error: 'é”™è¯¯'
  } as const
  return textMap[props.server.status] || 'æœªçŸ¥'
})

const handleConnect = () => {
  emit('connect', props.server)
}

const handleMonitor = () => {
  emit('monitor', props.server)
}

defineOptions({
  name: 'ServerCard'
})
</script>

<style scoped>
.server-card {
  margin-bottom: 16px;
}

.server-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.server-card__header h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
}

.server-card__body {
  margin: 16px 0;
}
</style>
```

### Pinia çŠ¶æ€ç®¡ç†
```typescript
// stores/system.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { systemApi } from '@/utils/api'

export const useSystemStore = defineStore('system', () => {
  // çŠ¶æ€
  const servers = ref<Server[]>([])
  const isLoading = ref(false)
  const error = ref<string | null>(null)
  
  // è®¡ç®—å±æ€§
  const onlineServers = computed(() => 
    servers.value.filter(server => server.status === 'online')
  )
  
  const offlineServers = computed(() => 
    servers.value.filter(server => server.status === 'offline')
  )
  
  const totalServers = computed(() => servers.value.length)
  
  const averageCpu = computed(() => {
    if (servers.value.length === 0) return 0
    const total = servers.value.reduce((sum, server) => sum + server.cpu, 0)
    return Math.round(total / servers.value.length)
  })
  
  // æ–¹æ³•
  const fetchServers = async () => {
    try {
      isLoading.value = true
      error.value = null
      const data = await systemApi.getServers()
      servers.value = data
    } catch (err) {
      error.value = err instanceof Error ? err.message : 'è·å–æœåŠ¡å™¨åˆ—è¡¨å¤±è´¥'
    } finally {
      isLoading.value = false
    }
  }
  
  const addServer = async (serverData: Omit<Server, 'id'>) => {
    try {
      const newServer = await systemApi.addServer(serverData)
      servers.value.push(newServer)
      return newServer
    } catch (err) {
      error.value = err instanceof Error ? err.message : 'æ·»åŠ æœåŠ¡å™¨å¤±è´¥'
      throw err
    }
  }
  
  const removeServer = async (serverId: string) => {
    try {
      await systemApi.removeServer(serverId)
      const index = servers.value.findIndex(server => server.id === serverId)
      if (index !== -1) {
        servers.value.splice(index, 1)
      }
    } catch (err) {
      error.value = err instanceof Error ? err.message : 'åˆ é™¤æœåŠ¡å™¨å¤±è´¥'
      throw err
    }
  }
  
  const updateServer = async (serverId: string, updates: Partial<Server>) => {
    try {
      const updatedServer = await systemApi.updateServer(serverId, updates)
      const index = servers.value.findIndex(server => server.id === serverId)
      if (index !== -1) {
        servers.value[index] = updatedServer
      }
      return updatedServer
    } catch (err) {
      error.value = err instanceof Error ? err.message : 'æ›´æ–°æœåŠ¡å™¨å¤±è´¥'
      throw err
    }
  }
  
  return {
    // çŠ¶æ€
    servers,
    isLoading,
    error,
    // è®¡ç®—å±æ€§
    onlineServers,
    offlineServers,
    totalServers,
    averageCpu,
    // æ–¹æ³•
    fetchServers,
    addServer,
    removeServer,
    updateServer
  }
})
```

### è·¯ç”±é…ç½®
```typescript
// router/index.ts
import { createRouter, createWebHistory } from 'vue-router'
import type { RouteRecordRaw } from 'vue-router'

const routes: RouteRecordRaw[] = [
  {
    path: '/',
    name: 'Dashboard',
    component: () => import('@/views/Dashboard.vue'),
    meta: {
      title: 'ä»ªè¡¨æ¿',
      icon: 'Monitor',
      requiresAuth: true
    }
  },
  {
    path: '/terminal',
    name: 'Terminal',
    component: () => import('@/views/Terminal.vue'),
    meta: {
      title: 'ç»ˆç«¯',
      icon: 'Terminal',
      requiresAuth: true
    }
  },
  {
    path: '/files',
    name: 'Files',
    component: () => import('@/views/Files.vue'),
    meta: {
      title: 'æ–‡ä»¶ç®¡ç†',
      icon: 'Folder',
      requiresAuth: true
    }
  },
  {
    path: '/software',
    name: 'Software',
    component: () => import('@/views/Software.vue'),
    meta: {
      title: 'è½¯ä»¶ç®¡ç†',
      icon: 'Package',
      requiresAuth: true
    }
  },
  {
    path: '/settings',
    name: 'Settings',
    component: () => import('@/views/Settings.vue'),
    meta: {
      title: 'è®¾ç½®',
      icon: 'Setting',
      requiresAuth: true
    }
  },
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/Login.vue'),
    meta: {
      title: 'ç™»å½•',
      requiresAuth: false
    }
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  // è®¾ç½®é¡µé¢æ ‡é¢˜
  if (to.meta?.title) {
    document.title = `${to.meta.title} - Linglong Panel`
  }
  
  // æ£€æŸ¥ç™»å½•çŠ¶æ€
  const isAuthenticated = localStorage.getItem('token')
  
  if (to.meta?.requiresAuth && !isAuthenticated) {
    next('/login')
  } else if (to.name === 'Login' && isAuthenticated) {
    next('/')
  } else {
    next()
  }
})

export default router
```

## ğŸ§ª æµ‹è¯•æŒ‡å—

### æµ‹è¯•æ¡†æ¶
- **Vitest**: Vue 3 å•å…ƒæµ‹è¯•æ¡†æ¶
- **Vue Test Utils**: Vue ç»„ä»¶æµ‹è¯•å·¥å…·
- **@vue/vue3-jest**: Vue 3 Jest è½¬æ¢å™¨

### æµ‹è¯•ç¤ºä¾‹
```typescript
// tests/components/ServerCard.test.ts
import { mount } from '@vue/test-utils'
import { describe, it, expect } from 'vitest'
import ServerCard from '@/components/ServerCard.vue'

describe('ServerCard', () => {
  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“æœåŠ¡å™¨ä¿¡æ¯', () => {
    const server = {
      id: '1',
      name: 'æµ‹è¯•æœåŠ¡å™¨',
      status: 'online' as const,
      cpu: 45,
      memory: 62,
      disk: 78,
      network: 23
    }
    
    const wrapper = mount(ServerCard, {
      props: { server }
    })
    
    expect(wrapper.find('h3').text()).toBe('æµ‹è¯•æœåŠ¡å™¨')
    expect(wrapper.find('.el-tag').text()).toBe('åœ¨çº¿')
    expect(wrapper.text()).toContain('45%')
    expect(wrapper.text()).toContain('62%')
  })
  
  it('åº”è¯¥æ­£ç¡®å¤„ç†ç‚¹å‡»äº‹ä»¶', async () => {
    const server = {
      id: '1',
      name: 'æµ‹è¯•æœåŠ¡å™¨',
      status: 'online' as const,
      cpu: 45,
      memory: 62,
      disk: 78,
      network: 23
    }
    
    const wrapper = mount(ServerCard, {
      props: { server }
    })
    
    await wrapper.find('button').trigger('click')
    
    expect(wrapper.emitted('connect')).toBeTruthy()
    expect(wrapper.emitted('connect')[0][0]).toEqual(server)
  })
})
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Git éƒ¨ç½²
```bash
# æ„å»º Git éƒ¨ç½²ç‰ˆæœ¬
pnpm build:git

# ä¸Šä¼ åˆ° Git ä»“åº“
pnpm upload:git
```

### Docker éƒ¨ç½²
```dockerfile
# Dockerfile
FROM node:18-alpine AS builder

WORKDIR /app
COPY package.json pnpm-lock.yaml ./
RUN npm install -g pnpm && pnpm install --frozen-lockfile

COPY . .
RUN pnpm build:docker

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

### è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
```bash
#!/bin/bash
# deploy.sh

set -e

echo "å¼€å§‹éƒ¨ç½²æµç¨‹..."

# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. è¿è¡Œæµ‹è¯•
pnpm test

# 3. ä»£ç æ£€æŸ¥
pnpm lint

# 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build:git

# 5. ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨
pnpm upload:git

echo "éƒ¨ç½²å®Œæˆï¼"
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. **Fork é¡¹ç›®** - åˆ›å»ºæ‚¨çš„é¡¹ç›®å‰¯æœ¬
2. **åˆ›å»ºåˆ†æ”¯** - `git checkout -b feature/your-feature-name`
3. **å¼€å‘æµ‹è¯•** - ç¼–å†™ä»£ç å¹¶è¿è¡Œæµ‹è¯•
4. **ä»£ç æ£€æŸ¥** - ç¡®ä¿é€šè¿‡ Biome æ£€æŸ¥
5. **æäº¤ä»£ç ** - éµå¾ªæäº¤è§„èŒƒ
6. **åˆ›å»ºPR** - æäº¤ Pull Request

### ä»£ç è§„èŒƒ
- **ç»„ä»¶å‘½å**: ä½¿ç”¨ PascalCaseï¼Œå¦‚ `ServerCard.vue`
- **æ–‡ä»¶å**: ä½¿ç”¨ kebab-caseï¼Œå¦‚ `server-card.vue`
- **Prop å‘½å**: ä½¿ç”¨ camelCase
- **CSS ç±»å**: ä½¿ç”¨ BEM å‘½åè§„èŒƒ
- **TypeScript**: ä¸¥æ ¼æ¨¡å¼ï¼Œå®Œæ•´ç±»å‹å®šä¹‰

### Vue ç‰¹å®šè§„èŒƒ
- **ç»„åˆå¼ API**: ä½¿ç”¨ `<script setup>` è¯­æ³•
- **å“åº”å¼**: ä½¿ç”¨ `ref` å’Œ `reactive`
- **ç»„ä»¶é€šä¿¡**: ä½¿ç”¨ `defineProps` å’Œ `defineEmits`
- **è·¯ç”±**: ä½¿ç”¨å‘½åè·¯ç”±å’Œè·¯ç”±å…ƒä¿¡æ¯

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£æ”¯æŒ
- ğŸ“– æŸ¥çœ‹ [å¼€å‘æ–‡æ¡£](å¼€å‘æ–‡æ¡£/) è·å–è¯¦ç»†æŠ€æœ¯æŒ‡å—
- ğŸ” æœç´¢å…³é”®è¯åœ¨æ–‡æ¡£ä¸­æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ
- ğŸ“‹ æŸ¥çœ‹ [APIæ–‡æ¡£](APIæ–‡æ¡£/) äº†è§£æ¥å£è§„èŒƒ

### æŠ€æœ¯æ”¯æŒ
- ğŸ’¬ åˆ›å»º Issue æŠ¥å‘Šé—®é¢˜
- ğŸ“§ è”ç³»é¡¹ç›®ç»´æŠ¤è€…
- ğŸ¯ å‚ä¸é¡¹ç›®è®¨è®º

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025å¹´11æœˆ)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¨ å®ç°å®Œæ•´çš„æœåŠ¡å™¨ç®¡ç†ç•Œé¢
- ğŸ–¥ï¸ é›†æˆç»ˆç«¯åŠŸèƒ½å’Œç®¡ç†
- ğŸ“Š æ·»åŠ æ•°æ®å¯è§†åŒ–å›¾è¡¨
- ğŸš€ å‡çº§åˆ° Rsbuild æ„å»ºç³»ç»Ÿ
- ğŸ³ æ·»åŠ  Docker æ”¯æŒ

### è®¡åˆ’åŠŸèƒ½
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
- ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- ğŸ”Œ æ’ä»¶ç³»ç»Ÿæ‰©å±•
- ğŸ“ˆ é«˜çº§ç›‘æ§å’Œå‘Šè­¦

---

**å¼€å§‹æ‚¨çš„å¼€å‘ä¹‹æ—…** - æŸ¥çœ‹ [é¡¹ç›®æ¶æ„è®¾è®¡](å¼€å‘æ–‡æ¡£/01-é¡¹ç›®æ¶æ„è®¾è®¡.md) äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚