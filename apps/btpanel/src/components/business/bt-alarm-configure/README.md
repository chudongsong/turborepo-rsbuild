# BtAlarmConfigure 告警配置组件

集成告警配置管理的业务组件，支持多种告警渠道的配置和管理。

## 功能特性
- 多类型告警配置（邮件/公众号/钉钉/飞书等）
- 配置项的增删改查
- 状态管理（启用/禁用）
- 默认配置设置
- 配置测试功能

## 基本用法

```vue
<template>
  <bt-alarm-configure :comp-data="{ 
    type: 'mail', 
    title: '邮件',
    callback: handleConfigSaved 
  }" />
</template>
```

## 组件 API 说明

### Props
| 属性名     | 说明         | 类型     | 默认值   | 可选值                          |
|-----------|------------|----------|---------|--------------------------------|
| compData  | 配置数据     | object   | —       | 包含以下属性的对象：<br>- `type`: 告警渠道类型 (string)<br>- `title`: 配置显示名称 (string)<br>- `callback`: 配置完成回调函数 (Function) |

### 事件 (Events)
| 事件名     | 说明               | 参数       |
|-----------|------------------|------------|
| onCancel  | 关闭配置面板时触发   | —          |

## 告警渠道类型对照表
| type 值       | 对应渠道       | 使用组件    | 典型 title 值 |
|---------------|--------------|-----------|--------------|
| mail          | 邮件通知       | Mail      | 邮件         |
| wx_account    | 微信公众号     | WxAccount | 公众号       |
| dingding      | 钉钉机器人     | Common    | 钉钉         |
| feishu        | 飞书机器人     | Common    | 飞书         |
| weixin        | 企业微信机器人  | Common    | 企业微信      |
| webhook       | 自定义Webhook | WebHook   | Webhook      |

## 操作说明
1. **添加配置**：点击顶部「添加」按钮
2. **设置默认**：在操作列点击「设置默认」
3. **测试配置**：点击「测试」验证配置有效性
4. **解绑配置**：点击「解绑」移除配置

## 状态管理
| 状态       | 说明               | 样式表现          | 触发方式         |
|-----------|------------------|------------------|----------------|
| 已启用     | 配置处于激活状态     | 蓝色链接文字        | 点击状态切换按钮  |
| 未启用     | 配置处于禁用状态     | 红色链接文字        | 点击状态切换按钮  |
| 默认配置   | 系统默认使用该配置   | 显示「默认配置」标识 | 设置默认操作     |

## 回调函数说明
```typescript
// 配置保存后的回调示例
const handleConfigSaved = () => {
  // 刷新列表数据
  refreshList()
  // 更新全局配置状态
  updateGlobalConfig()
}
```

## 最佳实践
1. **类型匹配**：确保 compData.type 与后端配置一致
2. **回调处理**：通过 callback 处理配置完成后的逻辑
3. **状态同步**：操作后调用 refresh() 更新列表
4. **错误处理**：使用 useDataHandle 统一处理接口错误

## 关联组件
| 组件名称      | 功能说明               | 适用渠道类型          |
|-------------|----------------------|---------------------|
| Mail        | 邮件服务器配置表单      | mail                |
| WebHook     | Webhook 配置表单       | webhook             |
| WxAccount   | 微信公众号授权配置       | wx_account          |
| Common      | 通用机器人配置表单       | dingding/feishu/weixin |

> 完整接口文档参考全局配置 API 文档 